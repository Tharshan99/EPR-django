{% extends "epr/base2.html" %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}
        Dashboard
    {% endblock %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

    {% block styles %}
    <style>
    </style>
    {% endblock %}



{% block content %}

            <!-- Main content -->
            <div class="col-md-10 p-4">
                <div class="welcome-message">
                    <div class="d-flex justify-content-between align-items-center">
                        <h3>Welcome back, Tharshan</h3>
                        <div class="profile">
                            <img src="profile.jpg" alt="Profile" class="rounded-circle" width="50">
                            <span>Tharshan</span>
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="row">
                    <div class="col-md-3">
                        <div class="card text-center bg-light">
                            <div class="card-body">
                                <h5>Total Visits</h5>
                                <h2>40</h2>
                                <!-- <p><span style="color: green;">+18%</span> | <span style="color: blue;">+3.8k this week</span></p> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center bg-light">
                            <div class="card-body">
                                <h5>Applications</h5>
                                <h2>5</h2>
                                <!-- <p><span style="color: green;">+18%</span> | <span style="color: blue;">+2.8k this week</span></p> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center bg-light">
                            <div class="card-body">
                                <h5>Clients</h5>
                                <h2>34</h2>
                                <!-- <p><span style="color: green;">+18%</span> | <span style="color: blue;">+7.8k this week</span></p> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center bg-light">
                            <div class="card-body">
                                <h5>Projects</h5>
                                <h2>7</h2>
                                <!-- <p><span style="color: green;">+18%</span> | <span style="color: blue;">+1.2k this week</span></p> -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="row chart-container">
                    <div class="col-md-6">
                        <h5>Watch Counts</h5>
                        <canvas id="watchChart"></canvas>
                    </div>
                    <div class="col-md-6">
                        <h5>Applications</h5>
                        <div class="small-chart">
                            <canvas id="applicationChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endblock %}

    {% block scripts %}

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Watch Counts Line Chart
        const watchCtx = document.getElementById('watchChart').getContext('2d');
        new Chart(watchCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'Watch Counts',
                    data: [50, 60, 80, 90, 120, 150, 180, 200, 220, 230, 240, 250],
                    borderColor: 'blue',
                    backgroundColor: 'rgba(0, 123, 255, 0.1)',
                    borderWidth: 2,
                    tension: 0.4
                }]
            }
        });

        const studentsCount = 5;
        const internsCount = 5
        const experiencedCount = 5
        // const studentsCount = {{ students_count }};
        // const internsCount = {{ interns_count }}
        // const experiencedCount = {{ experienced_count }}

        // Applications Pie Chart
        const appCtx = document.getElementById('applicationChart').getContext('2d');
        new Chart(appCtx, {
            type: 'pie',
            data: {
                labels: ['Interns', 'Students', 'Experience'],
                datasets: [{
                    data: [studentsCount, internsCount, experiencedCount],
                    backgroundColor: ['#e74c3c', '#3498db', '#f1c40f'],
                    hoverBackgroundColor: ['#c0392b', '#2980b9', '#f39c12']
                }]
            },
            options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                title: {
                    display: true,
                    text: 'Applications Distribution'
                }
            }
        }
        });
    </script>
        {% endblock %}
</body>
</html>
